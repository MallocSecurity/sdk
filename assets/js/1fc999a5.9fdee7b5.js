"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[950],{5287:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>o,contentTitle:()=>r,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>t});const i=JSON.parse('{"id":"api-reference/mallocSDK","title":"MallocSDK Class Reference","description":"---","source":"@site/docs/api-reference/mallocSDK.md","sourceDirName":"api-reference","slug":"/api-reference/mallocSDK","permalink":"/sdk/api-reference/mallocSDK","draft":false,"unlisted":false,"editUrl":"https://github.com/mallocsecurity/sdk/edit/website/docs/api-reference/mallocSDK.md","tags":[],"version":"current","frontMatter":{},"sidebar":"mallocSidebar","previous":{"title":"Installation","permalink":"/sdk/installation"},"next":{"title":"\ud83e\udde9 Initialization","permalink":"/sdk/api-reference/authentication"}}');var a=s(4848),c=s(8453);const l={},r="MallocSDK Class Reference",o={},t=[{value:"\ud83e\udde9 Initialization",id:"-initialization",level:2},{value:"\ud83e\ude93 Root Detection",id:"-root-detection",level:2},{value:"\ud83c\udf10 URL Threat Detection",id:"-url-threat-detection",level:2},{value:"\ud83d\udd75\ufe0f Spyware Indicators Check",id:"\ufe0f-spyware-indicators-check",level:2},{value:"\ud83d\udcf1 App Scanning",id:"-app-scanning",level:2},{value:"\ud83d\udcc2 File Scanning",id:"-file-scanning",level:2},{value:"Permissions Required",id:"permissions-required",level:3},{value:"\ud83d\udee0 Callback Interfaces",id:"-callback-interfaces",level:2},{value:"InitializationFinished",id:"initializationfinished",level:3},{value:"ScanFinishedCallback",id:"scanfinishedcallback",level:3},{value:"AppsScanningUpdatesCallback",id:"appsscanningupdatescallback",level:3},{value:"FilesScanningUpdatesCallback",id:"filesscanningupdatescallback",level:3},{value:"Notes",id:"notes",level:2},{value:"\u2705 Best Practices",id:"-best-practices",level:2}];function d(n){const e={a:"a",blockquote:"blockquote",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.R)(),...n.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.header,{children:(0,a.jsx)(e.h1,{id:"mallocsdk-class-reference",children:"MallocSDK Class Reference"})}),"\n",(0,a.jsx)(e.hr,{}),"\n",(0,a.jsx)(e.p,{children:"Here we provide a quick overview of the methods.\nYou can find an extensive description and usage guide for each method in sub-guides provided."}),"\n",(0,a.jsxs)(e.p,{children:["Find an example how to use the Malloc SDK class and how to run the methods at: ",(0,a.jsx)(e.a,{href:"https://github.com/mallocsecurity/sdk/",children:"Github"})]}),"\n",(0,a.jsx)(e.hr,{}),"\n",(0,a.jsxs)(e.p,{children:["The ",(0,a.jsx)(e.code,{children:"MallocSDK"})," class is the main interface for interacting with the Malloc Security SDK. It provides a variety of methods to perform security and privacy scans, such as detecting root access, spyware, suspicious apps, and dangerous files."]}),"\n",(0,a.jsx)(e.h2,{id:"-initialization",children:"\ud83e\udde9 Initialization"}),"\n",(0,a.jsxs)(e.p,{children:["These methods are used to initialize the SDK. For full usage instructions, see the ",(0,a.jsx)(e.a,{href:"/sdk/api-reference/authentication",children:"Initialization & Authentication"})," guide."]}),"\n",(0,a.jsxs)(e.blockquote,{children:["\n",(0,a.jsxs)(e.p,{children:["This operation is available in both ",(0,a.jsx)(e.strong,{children:"synchronous"})," and ",(0,a.jsx)(e.strong,{children:"asynchronous"})," versions (with callbacks)."]}),"\n"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-java",children:"// Asynchronous\nvoid initializeAsync(Context context, String key, InitializationFinished callback)\n\n// Synchronous\nBoolean initializeSync(Context context, String key)\n"})}),"\n",(0,a.jsx)(e.hr,{}),"\n",(0,a.jsx)(e.h2,{id:"-root-detection",children:"\ud83e\ude93 Root Detection"}),"\n",(0,a.jsxs)(e.p,{children:["Check whether the device is rooted. This includes various root indicators. See the ",(0,a.jsx)(e.a,{href:"/sdk/api-reference/rootCheck",children:"Root Check"})," guide."]}),"\n",(0,a.jsxs)(e.blockquote,{children:["\n",(0,a.jsxs)(e.p,{children:["This operation is available in both ",(0,a.jsx)(e.strong,{children:"synchronous"})," and ",(0,a.jsx)(e.strong,{children:"asynchronous"})," versions (with callbacks)."]}),"\n"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-java",children:"// Asynchronous\nvoid rootCheckAsync(@NonNull ScanFinishedCallback callback)\n\n// Synchronous\nstatic JSONObject rootCheckSync()\n"})}),"\n",(0,a.jsx)(e.hr,{}),"\n",(0,a.jsx)(e.h2,{id:"-url-threat-detection",children:"\ud83c\udf10 URL Threat Detection"}),"\n",(0,a.jsxs)(e.p,{children:["Validate and categorize a domain by contacting Malloc's backend service, see the ",(0,a.jsx)(e.a,{href:"/sdk/api-reference/checkUrl",children:"URL Category Check"})," guide."]}),"\n",(0,a.jsxs)(e.blockquote,{children:["\n",(0,a.jsxs)(e.p,{children:["This operation is available in both ",(0,a.jsx)(e.strong,{children:"synchronous"})," and ",(0,a.jsx)(e.strong,{children:"asynchronous"})," versions (with callbacks)."]}),"\n"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-java",children:"// Asynchronous\nvoid checkURLAsync(String domain, @NonNull ScanFinishedCallback callback)\n\n// Synchronous\nJSONObject checkURLSync(String domain)\n"})}),"\n",(0,a.jsx)(e.hr,{}),"\n",(0,a.jsx)(e.h2,{id:"\ufe0f-spyware-indicators-check",children:"\ud83d\udd75\ufe0f Spyware Indicators Check"}),"\n",(0,a.jsxs)(e.p,{children:["Scan the device for signs that may indicate it is compromised by spyware, see the ",(0,a.jsx)(e.a,{href:"/sdk/api-reference/scanForDeviceSpyware",children:"Spyware Indicators Check"})," guide."]}),"\n",(0,a.jsxs)(e.blockquote,{children:["\n",(0,a.jsxs)(e.p,{children:["This operation is available in both ",(0,a.jsx)(e.strong,{children:"synchronous"})," and ",(0,a.jsx)(e.strong,{children:"asynchronous"})," versions (with callbacks)."]}),"\n"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-java",children:"// Asynchronous\nvoid scanForDeviceSpywareAsync(@NonNull ScanFinishedCallback callback)\n\n// Synchronous\nJSONObject scanForDeviceSpywareSync()\n"})}),"\n",(0,a.jsx)(e.hr,{}),"\n",(0,a.jsx)(e.h2,{id:"-app-scanning",children:"\ud83d\udcf1 App Scanning"}),"\n",(0,a.jsxs)(e.p,{children:["Scan installed apps for spyware, dangerous permissions, and enabled accessibility services, see the ",(0,a.jsx)(e.a,{href:"/sdk/api-reference/scanApps",children:"Scan Installed Apps"})," guide."]}),"\n",(0,a.jsxs)(e.blockquote,{children:["\n",(0,a.jsxs)(e.p,{children:["This operation is available in both ",(0,a.jsx)(e.strong,{children:"synchronous"})," and ",(0,a.jsx)(e.strong,{children:"asynchronous"})," versions (with callbacks)."]}),"\n"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-java",children:"// Per-App Scanning (Asynchronous with updates)\nvoid scanAppsPerAppAsync(\n    @NonNull AppsScanningUpdatesCallback appsScanningUpdatesCallback,\n    boolean include_system_apps,\n    boolean include_apps_with_no_internet_access,\n    boolean scan_apps_sha\n)\n\n// Summary Scanning (Asynchronous with final result only)\nvoid scanAppsAsync(\n    @NonNull ScanFinishedCallback callback,\n    boolean include_system_apps,\n    boolean include_apps_with_no_internet_access,\n    boolean scan_apps_sha\n)\n\n// Summary Scanning (Synchronous)\nJSONObject scanAppsPerScanSync(\n    boolean include_system_apps,\n    boolean include_apps_with_no_internet_access,\n    boolean scan_apps_sha\n)\n"})}),"\n",(0,a.jsx)(e.hr,{}),"\n",(0,a.jsx)(e.h2,{id:"-file-scanning",children:"\ud83d\udcc2 File Scanning"}),"\n",(0,a.jsxs)(e.p,{children:["Scan the device\u2019s files for potentially malicious content. You can scan the ",(0,a.jsx)(e.strong,{children:"Downloads folder"})," or specify a list of file paths to scan.",(0,a.jsx)(e.br,{}),"\n","See the full ",(0,a.jsx)(e.a,{href:"/sdk/api-reference/scanDownloadedFiles",children:"File Scanning Guide"})," for details."]}),"\n",(0,a.jsxs)(e.blockquote,{children:["\n",(0,a.jsxs)(e.p,{children:["Both operations are available in ",(0,a.jsx)(e.strong,{children:"synchronous"})," and ",(0,a.jsx)(e.strong,{children:"asynchronous"})," versions (with callbacks)."]}),"\n"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-java",children:"// Asynchronous with progress updates\nvoid scanDownloadedFilesAsync(@NonNull FilesScanningUpdatesCallback callback)\nvoid scanFilesAsync(List<String> file_paths_to_scan, @NonNull FilesScanningUpdatesCallback callback)\n\n// Synchronous\nJSONObject scanDownloadedFilesSync()\nJSONObject scanFilesSync(List<String> file_paths_to_scan)\n"})}),"\n",(0,a.jsx)(e.h3,{id:"permissions-required",children:"Permissions Required"}),"\n",(0,a.jsx)(e.p,{children:"Before scanning files, the appropriate permission must be granted based on the Android version. The SDK provides methods to handle prompting the user to grant the required permissions."}),"\n",(0,a.jsxs)(e.blockquote,{children:["\n",(0,a.jsx)(e.p,{children:"The following method displays a customizable dialog to the user before requesting the required file scanning permission."}),"\n"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-java",children:"void requestFilesScannerPermissionWithDialog(Activity activity, @Nullable String title, @Nullable String description)\n"})}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:["If ",(0,a.jsx)(e.code,{children:"title"})," and ",(0,a.jsx)(e.code,{children:"description"})," are not null, the dialog uses the provided strings."]}),"\n",(0,a.jsxs)(e.li,{children:["If either is null, the SDK uses the following default values:","\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"Title:"})," ",(0,a.jsx)(e.code,{children:'"Permission Required"'})]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"Description:"})," ",(0,a.jsx)(e.code,{children:'"This app needs access to all files on your device so it can scan for malicious files and help keep your device secure. Please grant this permission on the next screen."'}),"\nUse this method if you want to provide additional context to users before prompting for sensitive permissions."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(e.blockquote,{children:["\n",(0,a.jsx)(e.p,{children:"The following method does not show any additional dialogs or explanations before the system permission prompt."}),"\n"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-java",children:"void requestFilesScannerPermission(Activity activity)\n"})}),"\n",(0,a.jsx)(e.p,{children:"The above methods request the necessary file scanning permission from the user, automatically handling the correct permission based on the device's Android version."}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:["For devices running ",(0,a.jsx)(e.strong,{children:"Android R (API level 30)"})," and above, this prompts the user for ",(0,a.jsx)(e.code,{children:"android.permission.MANAGE_EXTERNAL_STORAGE"})," permission."]}),"\n",(0,a.jsxs)(e.li,{children:["For devices running ",(0,a.jsx)(e.strong,{children:"below Android R"}),", it requests ",(0,a.jsx)(e.code,{children:"android.permission.READ_EXTERNAL_STORAGE"}),"."]}),"\n"]}),"\n",(0,a.jsxs)(e.blockquote,{children:["\n",(0,a.jsxs)(e.p,{children:["This permission is essential for enabling the ",(0,a.jsx)(e.strong,{children:"File Scanning"})," feature in the SDK."]}),"\n"]}),"\n",(0,a.jsx)(e.hr,{}),"\n",(0,a.jsx)(e.h2,{id:"-callback-interfaces",children:"\ud83d\udee0 Callback Interfaces"}),"\n",(0,a.jsx)(e.h3,{id:"initializationfinished",children:"InitializationFinished"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-java",children:"interface InitializationFinished {\n    void onInitializationFinished(Boolean access_granted);\n}\n"})}),"\n",(0,a.jsx)(e.h3,{id:"scanfinishedcallback",children:"ScanFinishedCallback"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-java",children:"interface ScanFinishedCallback {\n    void onScanFinished(JSONObject result);\n}\n"})}),"\n",(0,a.jsx)(e.h3,{id:"appsscanningupdatescallback",children:"AppsScanningUpdatesCallback"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-java",children:"interface AppsScanningUpdatesCallback {\n    void onScanFinished(JSONObject result);\n    void onScanningAppUpdate(ApplicationInfo now_scanning_application_info);\n    void onAppsToScanListReady(List<ApplicationInfo> apps_to_scan);\n    void onScanProgressUpdate(ApplicationInfo now_scanning_application_info, int total_apps_scanned, int total_apps_to_scan);\n}\n"})}),"\n",(0,a.jsx)(e.h3,{id:"filesscanningupdatescallback",children:"FilesScanningUpdatesCallback"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-java",children:"interface FilesScanningUpdatesCallback {\n    void onScanFinished(JSONObject result);\n    void onScanningFileUpdate(String file_name, String file_path);\n    void onFilesListGenerated(List<FileToScan> files_to_scan);\n    void onScanProgressUpdate(String file_name, String file_path, int now_scanning_index, int total_files_to_scan);\n}\n"})}),"\n",(0,a.jsx)(e.hr,{}),"\n",(0,a.jsx)(e.h2,{id:"notes",children:"Notes"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"Async methods"}),": Ideal for UI-safe operations. Use callbacks to handle results."]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"Sync methods"}),": Useful for background threads where immediate results are required. ",(0,a.jsx)(e.strong,{children:"Never use sync methods on the main/UI thread."})]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"Threading"}),": All async methods handle threading internally. For sync methods, you must manage threads yourself."]}),"\n"]}),"\n",(0,a.jsx)(e.hr,{}),"\n",(0,a.jsx)(e.h2,{id:"-best-practices",children:"\u2705 Best Practices"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsx)(e.li,{children:"Always initialize the SDK before calling any functions."}),"\n",(0,a.jsx)(e.li,{children:"Avoid blocking the UI thread by using background threads or the async variants."}),"\n",(0,a.jsx)(e.li,{children:"Never hard-code API keys in production builds."}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,c.R)(),...n.components};return e?(0,a.jsx)(e,{...n,children:(0,a.jsx)(d,{...n})}):d(n)}},8453:(n,e,s)=>{s.d(e,{R:()=>l,x:()=>r});var i=s(6540);const a={},c=i.createContext(a);function l(n){const e=i.useContext(c);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(a):n.components||a:l(n.components),i.createElement(c.Provider,{value:e},n.children)}}}]);